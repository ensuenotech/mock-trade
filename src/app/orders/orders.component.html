<div class="w-full">
    <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
</div>
<div class="mx-auto max-w-7xl">
    <div [ngClass]="order?'grid-cols-3':'grid-cols-2'" class="mx-auto grid grid-cols-3 px-0">
        <!-- <div class="top-0 z-10 flex-shrink-0 h-16 sticky flex bg-white border">
        
          <div class="px-4 sm:px-6 md:px-4 text-center w-100">
            <h1
              class="text-3xl tracking-tight mt-2 mx-auto font-bold text-gray-900 text-center w-100"
              style="text-transform: capitalize"
            >
              {{ section }}
            </h1>
          </div>
        </div> -->

        <main class="flex-1 col-span-2" *ngIf="1">
            <div class="relative md:px-8 xl:px-0 xl:mx-4">
                <div class="pt-0 pb-16">
                    <div class="px-4 sm:px-6 md:px-0">

                        <section aria-labelledby="billing-history-heading" class="mt-4">
                            <div class="bg-white pt-6 shadow sm:rounded-md sm:overflow-hidden">
                                <div class="px-4 sm:px-6">
                                    <h2 id="billing-history-heading"
                                        class="text-lg leading-6 font-medium text-gray-900">
                                        Orders
                                    </h2>
                                </div>
                                <div class="mt-6 flex flex-col">
                                    <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                                        <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                                            <div class="overflow-hidden border-t border-gray-200">
                                                <table class="min-w-full divide-y divide-gray-300">
                                                    <thead class="bg-gray-50">
                                                        <tr>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Time
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Type
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Symbol
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Product
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Qty
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Price
                                                            </th>
                                                            <th scope="col"
                                                                class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                                                                Status
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <tbody class="divide-y divide-gray-200 bg-white">
                                                        <tr *ngFor="let item of trades; let i = index"
                                                            (click)="showOrderDetals(item.id)">
                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                {{ item.time | date : "shortTime" }}
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                <span
                                                                    class="inline-flex items-center px-2.5 py-1 rounded-md text-sm font-medium text-gray-800 uppercase"
                                                                    [ngClass]="
                                    item.operationType == 'buy'
                                      ? 'bg-blue-300'
                                      : 'bg-orange-300'
                                  ">{{ item.operationType | titlecase }}</span>
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-left">
                                                                {{ item.alias }}
                                                                <small class="text-uppercase">{{
                                                                    item.expiry | date : "dd MMM"
                                                                    }}</small>
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                {{ item.orderType | uppercase }}
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                {{ item.quantity }}
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                {{ item.price }}
                                                            </td>

                                                            <td
                                                                class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">
                                                                <span
                                                                    class="inline-flex items-center px-2.5 py-1 rounded-md text-sm font-semibold text-gray-800 capitalize"
                                                                    [ngClass]="
                                    item.status == 'executed'
                                      ? 'text-green-500'
                                      : item.status == 'rejected'
                                      ? 'text-red-600'
                                      : 'text-gray-400'
                                  ">{{ item.status }}</span>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>
        <div class="flex-1" *ngIf="order">
            <div class="relative md:px-8 xl:px-0 xl:mx-4">
                <div class="pt-0 pb-16">
                    <div class="px-4 sm:px-6 md:px-0">

                        <section aria-labelledby="billing-history-heading" class="mt-4">
                            <div class="bg-white pt-6 relative shadow sm:rounded-md sm:overflow-hidden">
                                <div class="px-4 sm:px-6">
                                    <h2 id="billing-history-heading"
                                        class="text-lg leading-6 font-medium text-gray-900">
                                        {{order.alias}}
                                    </h2>
                                    <div class="absolute right-3 top-3 ">
                                        <svg  *ngIf="order.orderStatus=='Executed'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-green-400">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                          </svg>
                                          <svg *ngIf="order.orderStatus!='Executed'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-12 h-12 text-red-400">
                                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
                                          </svg>
                                          
                                    </div>
                                </div>
                                <div class="mt-6 flex flex-col">
                                    <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                                        <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Product</div>
                                                <div class="text-right">{{order.product | uppercase}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Rate Type</div>
                                                <div class="text-right">{{order.rateType | titlecase}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Price</div>
                                                <div class="text-right">{{order.userPrice | number:'1.2-2'}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Trigger Price</div>
                                                <div class="text-right">{{order.triggerPrice | number:'1.2-2'}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Target</div>
                                                <div class="text-right">{{order.targetPrice | number:'1.2-2'}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Stop Loss</div>
                                                <div class="text-right">{{order.stopLoss | number:'1.2-2'}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Quantity</div>
                                                <div class="text-right">{{order.quantity}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Order Status</div>
                                                <div class="text-right">{{order.orderStatus | titlecase}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Executed Quantity</div>
                                                <div class="text-right">{{order.executedQuantity}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Execution Price</div>
                                                <div class="text-right">{{order.executionprice | number:'1.2-2'}}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Order Time</div>
                                                <div class="text-right">{{order.orderTime}}</div>
                                            </div><div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Exchange Time</div>
                                                <div class="text-right">{{order.exchangeTime}}</div>
                                            </div><div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Execution Time</div>
                                                <div class="text-right">{{order.executionTime }}</div>
                                            </div>
                                            <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Order Id</div>
                                                <div class="text-right">{{order.orderId}}</div>
                                            </div> <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Unique Identifier</div>
                                                <div class="text-right">{{order.guid | titlecase}}</div>
                                            </div> <div class="overflow-hidden grid grid-cols-2 border-t border-gray-200 p-2">
                                                <div>Exchange Order Id</div>
                                                <div class="text-right">{{order.exchangeOrderId}}</div>
                                            </div>

                                            <div class="overflow-hidden border-t border-gray-200 p-2">
                                                <button (click)="order=undefined"
                      class="float-right font-bold px-5 uppercase mx-1 ring-1 ring-gray-200 hover:ring-gray-300 rounded-md bg-gray-100 hover:bg-gray-200 text-sm px-2 py-2"
                      >Close</button>
                                            </div>
                                        </div>
                                    </div>
                                    </div>
                                </div>
                            
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>